Version 4
SHEET 1 1788 776
WIRE 464 -96 416 -96
WIRE 464 -80 464 -96
WIRE 736 -48 720 -48
WIRE 720 -16 720 -48
WIRE 512 0 464 0
WIRE 656 0 576 0
WIRE 816 16 816 -48
WIRE 0 64 -112 64
WIRE 112 64 0 64
WIRE 272 64 192 64
WIRE 384 64 352 64
WIRE 560 64 384 64
WIRE 656 64 640 64
WIRE 720 64 656 64
WIRE 800 64 720 64
WIRE 816 64 800 64
WIRE 896 64 880 64
WIRE 960 64 896 64
WIRE 1024 64 960 64
WIRE 1072 64 1024 64
WIRE 1120 64 1072 64
WIRE -112 80 -112 64
WIRE 1120 80 1120 64
WIRE 720 112 720 64
WIRE 0 160 0 64
WIRE 384 160 384 64
WIRE 960 160 960 144
WIRE 1024 160 1024 144
WIRE 592 192 512 192
WIRE 672 192 592 192
WIRE 1120 192 1120 160
WIRE 512 288 512 272
WIRE -112 320 -112 160
WIRE 0 320 0 224
WIRE 0 320 -112 320
WIRE 384 320 384 224
WIRE 384 320 0 320
WIRE 720 320 720 208
WIRE 720 320 384 320
WIRE 960 320 960 224
WIRE 960 320 720 320
WIRE 1024 320 1024 224
WIRE 1024 320 960 320
WIRE 1120 320 1120 272
WIRE 1120 320 1024 320
WIRE 0 352 0 320
FLAG 0 352 0
FLAG 592 192 PWM_IN
FLAG 1072 64 V_out
FLAG 512 288 0
FLAG 720 64 SW
FLAG 720 -16 0
FLAG 416 -96 0
SYMBOL res 96 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 0.010
SYMBOL diode -16 160 R0
SYMATTR InstName D1
SYMATTR Value DiodeSolarCell
SYMBOL ind 544 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100µH
SYMBOL nmos 672 112 R0
SYMATTR InstName M1
SYMATTR Value BSC060N10NS3
SYMBOL voltage 512 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 12 6.27e-6 9n 9n 6.20e-6 1.25e-5 100000)
SYMBOL current -112 160 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 7A
SYMBOL res 1104 64 R0
SYMATTR InstName R2
SYMATTR Value .081
SYMBOL cap 1008 160 R0
SYMATTR InstName C1
SYMATTR Value 200µF
SYMBOL voltage 1120 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 70
SYMBOL nmos 896 16 R90
SYMATTR InstName M2
SYMATTR Value BSC060N10NS3
SYMBOL voltage 832 -48 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -65 142 VLeft 2
SYMATTR Value PULSE(0 108 0 9n 9n 6.25e-6 1.25e-5 100000)
SYMATTR InstName V3
SYMBOL cap 640 0 R0
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL diode 512 16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMBOL voltage 464 16 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -65 142 VLeft 2
SYMATTR Value 12
SYMATTR InstName V4
SYMBOL cap 944 160 R0
SYMATTR InstName C4
SYMATTR Value 10µf
SYMBOL res 1008 48 R0
SYMATTR InstName R3
SYMATTR Value .01
SYMBOL res 944 48 R0
SYMATTR InstName R4
SYMATTR Value .002
SYMBOL ind 256 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 10µH
SYMBOL cap 368 160 R0
SYMATTR InstName C2
SYMATTR Value 22µF
TEXT -176 328 Left 2 !.tran 0 0.05 0
TEXT -176 424 Left 2 !.model DiodeSolarCell D LEVEL=1 IS=8.0411e-10 N=72.2592 EG=80.2077 XTI=216.7776
TEXT -168 0 Left 2 ;MPP for this solar model is at 37.7V, 6.5A load
TEXT -376 480 Left 2 !.MEAS Pin  RMS V(Array_out)*I(R1)  FROM 20ms TO 40ms
TEXT 1016 416 Left 2 !.MEAS Iout RMS I(R2) FROM 20ms TO 40ms
TEXT 1016 448 Left 2 !.MEAS Pout AVG V(V_out)*Iout FROM 20ms TO 40ms
TEXT 1008 680 Left 2 !.MEAS PWR_Eff AVG Pout/Pin
TEXT -376 512 Left 2 !.MEAS Ein INTEG Pin FROM 20ms TO 40ms
TEXT 1016 536 Left 2 !.MEAS Eout INTEG Pout FROM 20ms TO 40ms
TEXT 1016 568 Left 2 !.MEAS Eout2 INTEG V(V_out)*I(R2) FROM 20ms TO 40ms
TEXT 1696 568 Left 2 ;JOULES
TEXT 128 512 Left 2 ;JOULES
TEXT 1648 448 Left 2 ;WATT
TEXT 272 480 Left 2 ;WATT
TEXT 1000 720 Left 2 !.MEAS ENERGY_EFF_RMS  AVG Eout/Ein
TEXT 1568 528 Left 2 ;JOULES
TEXT 1000 760 Left 2 !.MEAS ENERGY_EFF_RAW  AVG Eout2/Ein
